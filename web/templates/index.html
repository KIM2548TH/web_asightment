{% extends 'base.html' %}

{% block body %}
<main class="container text-center mt-5">
    <h1 class="fw-bold">Thailand Cost of Living Comparison</h1>
    <p class="text-muted">Compare living expenses between different provinces in Thailand</p>
</main>
<div class="container mt-4">
    <div class="row align-items-center">
        <div class="mt-4 mx-auto" style="max-width: 600px;">
            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-emoji-smile"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Food</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.food }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.food_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.food_diff > 0 else "" }}{{ (cost_comparison.food_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.food_diff / cost_comparison.latest.food * 100) > 0 else "" }}{{ ((cost_comparison.food_diff / cost_comparison.latest.food * 100)) | float | round(2) }}%)
                </span>
            </div>

            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-house-door"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Housing</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.housing }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.housing_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.housing_diff > 0 else "" }}{{ (cost_comparison.housing_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.housing_diff / cost_comparison.latest.housing * 100) > 0 else "" }}{{ ((cost_comparison.housing_diff / cost_comparison.latest.housing * 100)) | float | round(2) }}%)
                </span>
            </div>

            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-lightning"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Energy</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.energy }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.energy_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.energy_diff > 0 else "" }}{{ (cost_comparison.energy_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.energy_diff / cost_comparison.latest.energy * 100) > 0 else "" }}{{ ((cost_comparison.energy_diff / cost_comparison.latest.energy * 100)) | float | round(2) }}%)
                </span>
            </div>

            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-car-front"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Transportation</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.transportation }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.transportation_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.transportation_diff > 0 else "" }}{{ (cost_comparison.transportation_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.transportation_diff / cost_comparison.latest.transportation * 100) > 0 else "" }}{{ ((cost_comparison.transportation_diff / cost_comparison.latest.transportation * 100)) | float | round(2) }}%)
                </span>
            </div>

            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-ticket"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Entertainment</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.entertainment }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.entertainment_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.entertainment_diff > 0 else "" }}{{ (cost_comparison.entertainment_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.entertainment_diff / cost_comparison.latest.entertainment * 100) > 0 else "" }}{{ ((cost_comparison.entertainment_diff / cost_comparison.latest.entertainment * 100)) | float | round(2) }}%)
                </span>
            </div>

            <div class="cost-card d-flex align-items-center mb-3">
                <div class="cost-icon me-3"><i class="bi bi-cash-stack"></i></div>
                <div class="flex-grow-1 text-center">
                    <h5 class="mb-1">Total Cost</h5>
                    <small class="text-muted">Thailand ({{ latest_year }}) ฿{{ cost_comparison.latest.total_cost }}</small>
                </div>
                <span class="price-diff {{ 'price-diff-success' if cost_comparison.total_cost_diff < 0 else 'price-diff-danger' }}">
                    {{ "+" if cost_comparison.total_cost_diff > 0 else "" }}{{ (cost_comparison.total_cost_diff) | float | round(2) }} ฿ 
                    ({{ "+" if (cost_comparison.total_cost_diff / cost_comparison.latest.total_cost * 100) > 0 else "" }}{{ ((cost_comparison.total_cost_diff / cost_comparison.latest.total_cost * 100)) | float | round(2) }}%)
                </span>
            </div>
        </div>

        <div class="col-md-4 d-flex">
            <img src="data:image/png;base64,{{ province.image_file | b64encode }}" class="cost-image">
        </div>
    </div>
</div>
{% endblock %}